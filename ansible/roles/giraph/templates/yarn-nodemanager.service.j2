[Unit]
Description=YARN NodeManager
After=network.target yarn-resourcemanager.service

[Service]
Type=forking
User=ubuntu
Group=ubuntu
Environment="JAVA_HOME={{ java_home }}"
Environment="HADOOP_HOME={{ hadoop_home }}"
Environment="HADOOP_CONF_DIR={{ hadoop_home }}/etc/hadoop"
ExecStart={{ hadoop_home }}/bin/yarn --daemon start nodemanager
ExecStop={{ hadoop_home }}/bin/yarn --daemon stop nodemanager
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
